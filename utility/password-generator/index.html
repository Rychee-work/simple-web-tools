<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Password Generator — Simple Web Tools</title>
  <meta name="description" content="Generate secure passwords locally in your browser. Choose length and character sets, avoid ambiguous characters, and copy results instantly. No uploads." />
  <link rel="canonical" href="https://simple-web-tools.com/utility/password-generator/" />
  <link rel="stylesheet" href="/assets/css/styles.css" />

  <!-- AdSense script (tool pages only) -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5493851170081090"
    crossorigin="anonymous"></script>

  <!-- Common UI helper -->
  <script defer src="/assets/js/tools-ui.js"></script>

  <!-- ✅ This page only: force vertical stack + polish spacing (NO global impact) -->
  <style>
    /* Force: Options -> Result (vertical stack) only on this page */
    .tool-grid.pg-stack { grid-template-columns: 1fr !important; }

    /* spacing polish */
    .tool-grid.pg-stack > .card { margin-bottom: 16px; }
    .form-row { display:flex; align-items:center; gap:12px; flex-wrap:wrap; }
    .control {
      height:40px; padding:0 10px;
      border-radius:12px; border:1px solid var(--border);
      background:#fff; color:var(--text);
      font-weight:800;
    }
    input[type="range"]{ width:240px; }
    .small-muted{ color:var(--muted); font-weight:700; font-size:13px; }
    .mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace; }

    .result-box{
      width:100%;
      min-height:110px;
      padding:12px;
      border-radius:14px;
      border:1px solid var(--border);
      background:#fff;
      font-weight:800;
      resize:vertical;
    }

    /* Keep Copy/Regenerate as strong actions, aligned nicely */
    .result-actions{ margin-top:12px; }
    .result-actions .btn{ min-width:160px; }

    /* Keep the “note” inside Result looking like a note (not too huge) */
    .result-note{ margin-top:12px; }
  </style>
</head>

<body>
  <div class="sidebar-overlay" data-sidebar-overlay></div>

  <!-- ✅ Header: keep your existing structure (logo / beta / legal / menu) -->
  <header class="header">
    <div class="header-inner">
      <a class="brand" href="/">
        <div class="logo" aria-hidden="true">
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M5 5h5v5H5V5Zm9 0h5v5h-5V5ZM5 14h5v5H5v-5Zm9 0h5v5h-5v-5Z" fill="currentColor"/>
          </svg>
        </div>
        <div><div>Simple Web Tools <span class="badge">beta</span></div></div>
      </a>

      <nav class="nav" aria-label="Legal">
        <a href="/legal/privacy.html">Privacy</a>
        <a href="/legal/terms.html">Terms</a>
        <a href="/legal/contact.html">Contact</a>
      </nav>

      <button class="menu-btn" type="button" aria-label="Open menu" data-menu-btn>
        <svg viewBox="0 0 24 24" fill="none" aria-hidden="true">
          <path d="M4 7h16M4 12h16M4 17h16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
    </div>
  </header>

  <main class="container">
    <div class="layout">

      <!-- ✅ Sidebar: ここが消えたのが今回の地雷。必ず残す -->
      <aside class="sidebar" data-sidebar>
        <div class="card">
          <div class="section-title">
            <h2>Categories</h2>
            <span class="hint">Browse</span>
          </div>

          <!-- tools-ui.js が自動生成できるなら data-cat-list を使う -->
          <div class="cat-list" data-cat-list>
            <a class="cat" href="/pdf/"><span>PDF</span><small>Tools</small></a>
            <a class="cat" href="/image/"><span>Image</span><small>Tools</small></a>
            <a class="cat" href="/text/"><span>Text</span><small>Tools</small></a>
            <a class="cat" href="/math/"><span>Math</span><small>Tools</small></a>
            <a class="cat" href="/utility/"><span>Utility</span><small>Tools</small></a>
            <a class="cat" href="/developer/"><span>Developer</span><small>Tools</small></a>
            <a class="cat" href="/ai-fun/"><span>AI Fun</span><small>Tools</small></a>
          </div>
        </div>

        <!-- Support（広告枠）: 審査中はダミー枠でOK（scriptを入れない） -->
        <div class="card" style="margin-top:16px">
          <div class="section-title">
            <h2>Support</h2>
            <span class="hint">Ads</span>
          </div>
          <div class="ad-slot" style="height:120px">Ad space</div>
          <p class="small-muted" style="margin:10px 0 0">Ads appear after approval. Tools work without uploads.</p>
        </div>
      </aside>

      <!-- ✅ Main -->
      <section class="main">

        <!-- Hero -->
        <div class="hero">
          <div class="breadcrumbs">
            <a href="/">All tools</a> &nbsp;›&nbsp; <a href="/utility/">Utility</a> &nbsp;›&nbsp; <span>Password Generator</span>
          </div>
          <h1>Password Generator</h1>
          <p>
            Generate secure passwords locally in your browser. Choose length and character sets, avoid ambiguous characters,
            and copy results instantly. No uploads.
          </p>
          <div class="note">
            Tip: 12–16 characters is a good baseline. Enable “Avoid ambiguous” for easier typing.
          </div>
        </div>

        <!-- Ad slot (safe position: after explanation) -->
        <div class="grid">
          <div class="ad-slot">Ad space (below hero)</div>
        </div>

        <!-- Tool (vertical stack) -->
        <div class="grid">
          <div class="tool-grid pg-stack">

            <!-- 1) Options -->
            <div class="card">
              <div class="section-title">
                <h2>1) Options</h2>
                <span class="hint">Customize</span>
              </div>

              <div class="form-row" style="margin-bottom:12px">
                <label for="len" style="font-weight:800">Length</label>
                <input id="len" class="control" type="number" min="4" max="128" value="16" style="width:88px" />
                <input id="lenRange" type="range" min="4" max="128" value="16" />
              </div>

              <!-- Setting pills (light) -->
              <div class="row wrap" style="margin:12px 0 10px">
                <label class="pill switch">
                  <input id="optLower" type="checkbox" checked />
                  a-z
                </label>
                <label class="pill switch">
                  <input id="optUpper" type="checkbox" checked />
                  A-Z
                </label>
                <label class="pill switch">
                  <input id="optNum" type="checkbox" checked />
                  0-9
                </label>
                <label class="pill switch">
                  <input id="optSym" type="checkbox" />
                  Symbols
                </label>
                <label class="pill switch">
                  <input id="optAmb" type="checkbox" checked />
                  Avoid ambiguous
                </label>
              </div>

              <div class="small-muted" id="strengthLine">
                Strength <b>—</b><br/>
                Estimated entropy <b>—</b>
              </div>
              <p class="desc" style="margin-top:8px">Excellent for most uses.</p>

              <!-- Main actions (big) -->
              <div class="row wrap" style="margin-top:14px">
                <button id="btnGen" class="btn primary action" type="button">Generate</button>
                <button id="btnClear" class="btn action" type="button">Clear</button>
              </div>

              <p class="small-muted" style="margin-top:12px">
                No upload. Everything runs in your browser.
              </p>
            </div>

            <!-- 2) Result -->
            <div class="card">
              <div class="section-title">
                <h2>2) Result</h2>
                <span class="hint">Copy</span>
              </div>

              <div class="small-muted" style="margin-bottom:8px">Generated password</div>

              <textarea id="out" class="result-box mono" readonly spellcheck="false">—</textarea>

              <div class="row wrap result-actions">
                <button id="btnCopy" class="btn primary action" type="button">Copy</button>
                <button id="btnRegen" class="btn action" type="button">Regenerate</button>
              </div>

              <div class="status-line" style="margin-top:10px; font-weight:800;">
                Status <span id="status">Ready.</span>
              </div>

              <div class="note result-note">
                If you use this for accounts, prefer a password manager. Don’t reuse passwords.
              </div>
            </div>

          </div>

          <!-- FAQ (optional, under tool) -->
          <div class="card">
            <div class="section-title">
              <h2>FAQ</h2>
              <span class="hint">Help</span>
            </div>
            <p class="desc"><b>Is this generated on a server?</b><br/>No. Everything runs locally in your browser.</p>
            <p class="desc"><b>What does “Avoid ambiguous” mean?</b><br/>It removes characters easy to confuse like O/0 or l/1.</p>
          </div>

          <!-- Bottom ad slot (optional) -->
          <div class="ad-slot">Ad space (below tool)</div>
        </div>

        <!-- Tool JS (self-contained; if you already have JS, keep IDs and replace logic only if needed) -->
        <script>
          const len = document.getElementById('len');
          const lenRange = document.getElementById('lenRange');
          const out = document.getElementById('out');
          const status = document.getElementById('status');
          const strengthLine = document.getElementById('strengthLine');

          const optLower = document.getElementById('optLower');
          const optUpper = document.getElementById('optUpper');
          const optNum   = document.getElementById('optNum');
          const optSym   = document.getElementById('optSym');
          const optAmb   = document.getElementById('optAmb');

          const btnGen   = document.getElementById('btnGen');
          const btnClear = document.getElementById('btnClear');
          const btnCopy  = document.getElementById('btnCopy');
          const btnRegen = document.getElementById('btnRegen');

          function syncLen(v){
            const n = Math.max(4, Math.min(128, Number(v || 16)));
            len.value = String(n);
            lenRange.value = String(n);
          }
          len.addEventListener('input', e => syncLen(e.target.value));
          lenRange.addEventListener('input', e => syncLen(e.target.value));

          function buildCharset(){
            let s = '';
            if (optLower.checked) s += 'abcdefghijklmnopqrstuvwxyz';
            if (optUpper.checked) s += 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
            if (optNum.checked)   s += '0123456789';
            if (optSym.checked)   s += '!@#$%^&*()-_=+[]{};:,.?/<>~';

            if (optAmb.checked){
              s = s.replace(/[O0Il1]/g, '');
            }
            return s;
          }

          function estimateEntropy(L, N){
            if (N <= 1) return 0;
            return Math.log2(N) * L;
          }
          function strengthLabel(bits){
            if (bits >= 80) return 'Very Strong';
            if (bits >= 60) return 'Strong';
            if (bits >= 40) return 'OK';
            if (bits >= 28) return 'Weak';
            return 'Very Weak';
          }

          function generate(){
            const charset = buildCharset();
            const L = Number(len.value || 16);

            if (charset.length < 2){
              out.value = '—';
              status.textContent = 'Select at least 2 character sets.';
              strengthLine.innerHTML = 'Strength <b>—</b><br/>Estimated entropy <b>—</b>';
              return;
            }

            let pw = '';
            for (let i=0;i<L;i++){
              pw += charset[Math.floor(Math.random() * charset.length)];
            }
            out.value = pw;

            const bits = estimateEntropy(L, charset.length);
            strengthLine.innerHTML =
              `Strength <b>${strengthLabel(bits)}</b><br/>Estimated entropy <b>${bits.toFixed(1)} bits</b>`;

            status.textContent = 'Generated.';
          }

          btnGen.addEventListener('click', generate);
          btnRegen.addEventListener('click', generate);

          btnClear.addEventListener('click', () => {
            out.value = '—';
            status.textContent = 'Cleared.';
          });

          btnCopy.addEventListener('click', async () => {
            try{
              await navigator.clipboard.writeText(out.value === '—' ? '' : out.value);
              status.textContent = 'Copied.';
            }catch(e){
              status.textContent = 'Copy failed.';
            }
          });

          // init
          syncLen(16);
          generate();
        </script>

      </section>
    </div>
  </main>
</body>
</html>
