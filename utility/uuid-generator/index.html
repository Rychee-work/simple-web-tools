<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>UUID Generator | Simple Web Tools</title>
  <meta name="description" content="Generate UUID v4 locally in your browser." />
  <link rel="canonical" href="/utility/uuid-generator/" />
  <link rel="stylesheet" href="/assets/css/styles.css" />
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5493851170081090"
    crossorigin="anonymous"></script>
</head>
<body>
  <div id="app"></div>

  <script type="module">
    import { mountLayout } from "/assets/js/layout.js";

    const mainHtml = `
      <div class="tool-head">
        <h1>UUID Generator</h1>
        <p class="muted">Generate UUID (v4) locally.</p>
      </div>

      <div class="card">
        <div class="row wrap">
          <label class="pill">Count:
            <input id="count" type="number" min="1" max="100" value="10" style="width:90px;">
          </label>
          <button class="btn" id="gen">Generate</button>
          <button class="btn" id="copy">Copy</button>
          <button class="btn" id="clear">Clear</button>
        </div>
        <textarea id="out" class="textarea" rows="10" readonly></textarea>
      </div>
    `;

    mountLayout({
      activeCategory: "utility",
      activeTool: "uuid-generator",
      pageTitle: "UUID Generator | Simple Web Tools",
      pageDescription: "Generate UUID v4 locally in your browser.",
      mainHtml
    });

    const $ = (id) => document.getElementById(id);

    function uuidv4() {
      if (crypto.randomUUID) return crypto.randomUUID();
      const a = crypto.getRandomValues(new Uint8Array(16));
      a[6] = (a[6] & 0x0f) | 0x40;
      a[8] = (a[8] & 0x3f) | 0x80;
      const hex = [...a].map(b => b.toString(16).padStart(2,"0")).join("");
      return `${hex.slice(0,8)}-${hex.slice(8,12)}-${hex.slice(12,16)}-${hex.slice(16,20)}-${hex.slice(20)}`;
    }

    function generate() {
      const n = Math.max(1, Math.min(100, Number($("count").value || 10)));
      const arr = [];
      for (let i=0;i<n;i++) arr.push(uuidv4());
      $("out").value = arr.join("\n");
    }

    $("gen").addEventListener("click", generate);
    $("clear").addEventListener("click", () => $("out").value = "");
    $("copy").addEventListener("click", async () => {
      try { await navigator.clipboard.writeText($("out").value || ""); }
      catch { $("out").select(); document.execCommand("copy"); }
    });

    generate();
  </script>
</body>
</html>
